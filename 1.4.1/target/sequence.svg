<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="912px" preserveAspectRatio="none" style="width:2191px;height:912px;background:#00000000;" version="1.1" viewBox="0 0 2191 912" width="2191px" zoomAndPan="magnify"><defs/><g><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="102" x2="102" y1="62.9219" y2="243.6875"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="102" x2="102" y1="243.6875" y2="314.6094"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="102" x2="102" y1="314.6094" y2="428.4531"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="102" x2="102" y1="428.4531" y2="499.375"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="102" x2="102" y1="499.375" y2="850.9063"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="531.5" x2="531.5" y1="62.9219" y2="243.6875"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="531.5" x2="531.5" y1="243.6875" y2="314.6094"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="531.5" x2="531.5" y1="314.6094" y2="428.4531"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="531.5" x2="531.5" y1="428.4531" y2="499.375"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="531.5" x2="531.5" y1="499.375" y2="850.9063"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="994" x2="994" y1="62.9219" y2="243.6875"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="994" x2="994" y1="243.6875" y2="314.6094"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="994" x2="994" y1="314.6094" y2="428.4531"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="994" x2="994" y1="428.4531" y2="499.375"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="994" x2="994" y1="499.375" y2="850.9063"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1197" x2="1197" y1="62.9219" y2="243.6875"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="1197" x2="1197" y1="243.6875" y2="314.6094"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1197" x2="1197" y1="314.6094" y2="428.4531"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="1197" x2="1197" y1="428.4531" y2="499.375"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1197" x2="1197" y1="499.375" y2="850.9063"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1784" x2="1784" y1="62.9219" y2="243.6875"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="1784" x2="1784" y1="243.6875" y2="314.6094"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1784" x2="1784" y1="314.6094" y2="428.4531"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="1784" x2="1784" y1="428.4531" y2="499.375"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1784" x2="1784" y1="499.375" y2="850.9063"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2064" x2="2064" y1="62.9219" y2="243.6875"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="2064" x2="2064" y1="243.6875" y2="314.6094"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2064" x2="2064" y1="314.6094" y2="428.4531"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="2064" x2="2064" y1="428.4531" y2="499.375"/><line style="stroke:#444444;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2064" x2="2064" y1="499.375" y2="850.9063"/><rect fill="#F0F8FF" height="56.9219" rx="2" ry="2" style="stroke:#444444;stroke-width:3.0;" width="194" x="5" y="5"/><text fill="#444444" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="172" x="16" y="43.8467">Application</text><rect fill="#F0F8FF" height="56.9219" rx="2" ry="2" style="stroke:#444444;stroke-width:3.0;" width="194" x="5" y="849.9063"/><text fill="#444444" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="172" x="16" y="888.7529">Application</text><rect fill="#F0F8FF" height="56.9219" rx="2" ry="2" style="stroke:#444444;stroke-width:3.0;" width="103" x="480.5" y="5"/><text fill="#444444" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="81" x="491.5" y="43.8467">Stork</text><rect fill="#F0F8FF" height="56.9219" rx="2" ry="2" style="stroke:#444444;stroke-width:3.0;" width="103" x="480.5" y="849.9063"/><text fill="#444444" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="81" x="491.5" y="888.7529">Stork</text><rect fill="#F0F8FF" height="56.9219" rx="2" ry="2" style="stroke:#444444;stroke-width:3.0;" width="250" x="869" y="5"/><text fill="#444444" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="228" x="880" y="43.8467">ConfigProvider</text><rect fill="#F0F8FF" height="56.9219" rx="2" ry="2" style="stroke:#444444;stroke-width:3.0;" width="250" x="869" y="849.9063"/><text fill="#444444" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="228" x="880" y="888.7529">ConfigProvider</text><rect fill="#F0F8FF" height="56.9219" rx="2" ry="2" style="stroke:#444444;stroke-width:3.0;" width="136" x="1129" y="5"/><text fill="#444444" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="114" x="1140" y="43.8467">Service</text><rect fill="#F0F8FF" height="56.9219" rx="2" ry="2" style="stroke:#444444;stroke-width:3.0;" width="136" x="1129" y="849.9063"/><text fill="#444444" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="114" x="1140" y="888.7529">Service</text><rect fill="#F0F8FF" height="56.9219" rx="2" ry="2" style="stroke:#444444;stroke-width:3.0;" width="298" x="1635" y="5"/><text fill="#444444" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="276" x="1646" y="43.8467">Service Discovery</text><rect fill="#F0F8FF" height="56.9219" rx="2" ry="2" style="stroke:#444444;stroke-width:3.0;" width="298" x="1635" y="849.9063"/><text fill="#444444" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="276" x="1646" y="888.7529">Service Discovery</text><rect fill="#F0F8FF" height="56.9219" rx="2" ry="2" style="stroke:#444444;stroke-width:3.0;" width="242" x="1943" y="5"/><text fill="#444444" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="220" x="1954" y="43.8467">Load Balancer</text><rect fill="#F0F8FF" height="56.9219" rx="2" ry="2" style="stroke:#444444;stroke-width:3.0;" width="242" x="1943" y="849.9063"/><text fill="#444444" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="220" x="1954" y="888.7529">Load Balancer</text><polygon fill="#444444" points="520,117.8438,530,121.8438,520,125.8438,524,121.8438" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:3.0;" x1="102" x2="526" y1="121.8438" y2="121.8438"/><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="49" x="197.5" y="108.7686">(1)</text><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="178" x="258.5" y="108.7686">initialize()</text><polygon fill="#444444" points="982,174.7656,992,178.7656,982,182.7656,986,178.7656" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:3.0;" x1="532" x2="988" y1="178.7656" y2="178.7656"/><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="49" x="636" y="165.6904">(2)</text><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="193" x="697" y="165.6904">getConfig()</text><polygon fill="#444444" points="543,231.6875,533,235.6875,543,239.6875,539,235.6875" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:3.0;" x1="537" x2="993" y1="235.6875" y2="235.6875"/><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="49" x="548" y="222.6123">(3)</text><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="369" x="609" y="222.6123">: List&lt;ServiceConfig&gt;</text><text fill="#444444" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="10" x="1078" y="289.5342">Â </text><polygon fill="#444444" points="520,359.5313,530,363.5313,520,367.5313,524,363.5313" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:3.0;" x1="102" x2="526" y1="363.5313" y2="363.5313"/><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="50" x="118" y="350.4561">(4)</text><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="336" x="180" y="350.4561">getService("name")</text><polygon fill="#444444" points="113,416.4531,103,420.4531,113,424.4531,109,420.4531" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:3.0;" x1="107" x2="531" y1="420.4531" y2="420.4531"/><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="50" x="223" y="407.3779">(5)</text><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="126" x="285" y="407.3779">Service</text><text fill="#444444" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="20" x="1073" y="474.2998">Â Â </text><polygon fill="#444444" points="1185,544.2969,1195,548.2969,1185,552.2969,1189,548.2969" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:3.0;" x1="102" x2="1191" y1="548.2969" y2="548.2969"/><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="50" x="417" y="535.2217">(6)</text><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="403" x="479" y="535.2217">selectServiceInstance()</text><polygon fill="#444444" points="1772,601.2188,1782,605.2188,1772,609.2188,1776,605.2188" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:3.0;" x1="1197" x2="1778" y1="605.2188" y2="605.2188"/><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="49" x="1272.5" y="592.1436">(7)</text><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="375" x="1333.5" y="592.1436">getServiceInstances()</text><polygon fill="#444444" points="1208,658.1406,1198,662.1406,1208,666.1406,1204,662.1406" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:3.0;stroke-dasharray:2.0,2.0;" x1="1202" x2="1783" y1="662.1406" y2="662.1406"/><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="50" x="1213" y="649.0654">(8)</text><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="493" x="1275" y="649.0654">Uni&lt;List&lt;ServiceInstance&gt;&gt;</text><polygon fill="#444444" points="2052,715.0625,2062,719.0625,2052,723.0625,2056,719.0625" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:3.0;" x1="1197" x2="2058" y1="719.0625" y2="719.0625"/><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="50" x="1398" y="705.9873">(9)</text><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="403" x="1460" y="705.9873">selectServiceInstance()</text><polygon fill="#444444" points="1208,771.9844,1198,775.9844,1208,779.9844,1204,775.9844" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:3.0;stroke-dasharray:2.0,2.0;" x1="1202" x2="2063" y1="775.9844" y2="775.9844"/><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="69" x="1400" y="762.9092">(10)</text><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="380" x="1481" y="762.9092">Uni&lt;ServiceInstance&gt;</text><polygon fill="#444444" points="113,828.9063,103,832.9063,113,836.9063,109,832.9063" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:3.0;stroke-dasharray:2.0,2.0;" x1="107" x2="1196" y1="832.9063" y2="832.9063"/><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="69" x="419" y="819.8311">(11)</text><text fill="#444444" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="380" x="500" y="819.8311">Uni&lt;ServiceInstance&gt;</text><!--MD5=[936377853679365add27c03a95021dd4]
@startuml
!define BG_MAIN_COLOR      AliceBlue
!define BG_SECONDARY_COLOR #B4BCBE
!define BG_PACKAGE_COLOR   #eeb291
!define BORDER_COLOR       #444444
!define FONT_COLOR         #444444
!define ARROW_COLOR        DarkGrey


' include the general skinparams for both, light and dark
' to overwrite with the given settings
!define BORDER_THICKNESS 3
skinparam backgroundColor transparent

skinparam classFontSize 30

skinparam Padding 4
skinparam RoundCorner 4
skinparam Shadowing false

skinparam Default {
FontColor FONT_COLOR
FontSize 30
}

skinparam class {
BackgroundColor BG_MAIN_COLOR
ArrowColor FONT_COLOR
BorderColor FONT_COLOR
FontSize 30
}

skinparam Arrow {
Color FONT_COLOR
FontColor FONT_COLOR
FontStyle Bold
FontSize 30
}

skinparam package {
FontColor FONT_COLOR
BackgroundColor BG_MAIN_COLOR
BorderColor BORDER_COLOR
}
skinparam node {
FontColor FONT_COLOR
BackgroundColor BG_PACKAGE_COLOR
BorderColor BORDER_COLOR
}
skinparam component {
BackgroundColor BG_MAIN_COLOR
BorderColor BORDER_COLOR
FontColor FONT_COLOR
Style uml2
}

skinparam database {
BackgroundColor BG_MAIN_COLOR
BorderColor BORDER_COLOR
FontColor FONT_COLOR
}

skinparam cloud {
BackgroundColor BG_MAIN_COLOR
BorderColor BORDER_COLOR
FontColor FONT_COLOR
}

skinparam collections {
BackgroundColor BG_MAIN_COLOR
BorderColor BORDER_COLOR
FontColor FONT_COLOR
}
skinparam Control {
BackgroundColor BG_MAIN_COLOR
BorderColor BORDER_COLOR
FontColor FONT_COLOR
}
skinparam Boundary {
BackgroundColor BG_MAIN_COLOR
BorderColor BORDER_COLOR
FontColor FONT_COLOR
}
skinparam Entity {
BackgroundColor BG_MAIN_COLOR
BorderColor BORDER_COLOR
FontColor FONT_COLOR
}
skinparam interface {
BackgroundColor BG_MAIN_COLOR
BorderColor BORDER_COLOR
FontColor FONT_COLOR
}
skinparam SequenceParticipantBorderThickness 3
skinparam sequence {
ParticipantBackgroundColor BG_MAIN_COLOR
ParticipantBorderColor BORDER_COLOR
ParticipantFontStyle normal
ParticipantFontColor FONT_COLOR
LifeLineBorderColor BORDER_COLOR
LifeLineBackgroundColor BG_MAIN_COLOR
ArrowColor FONT_COLOR
ArrowBorderColor BORDER_COLOR
ArrowFontColor FONT_COLOR
ArrowThickness 3
ActorBackgroundColor BG_MAIN_COLOR
ActorBorderColor BORDER_COLOR
ActorFontColor FONT_COLOR
}



skinparam sequenceMessageAlign center
autonumber "<b>(0)"


participant Application
participant Stork
participant ConfigProvider
participant Service
participant "Service Discovery"
participant "Load Balancer"

Application -> Stork : initialize()
Stork -> ConfigProvider : getConfig()
ConfigProvider -> Stork : : List<ServiceConfig>

... ...

Application -> Stork : getService("name")
Stork -> Application: Service

...  ...


Application -> Service : selectServiceInstance()
Service -> "Service Discovery" : getServiceInstances()
"Service Discovery" - - -> Service : Uni<List<ServiceInstance>>
Service -> "Load Balancer" : selectServiceInstance()
"Load Balancer" - - -> Service : Uni<ServiceInstance>
Service - - -> Application : Uni<ServiceInstance>
@enduml

@startuml


skinparam backgroundColor transparent

skinparam classFontSize 30

skinparam Padding 4
skinparam RoundCorner 4
skinparam Shadowing false

skinparam Default {
FontColor #444444
FontSize 30
}

skinparam class {
BackgroundColor AliceBlue
ArrowColor #444444
BorderColor #444444
FontSize 30
}

skinparam Arrow {
Color #444444
FontColor #444444
FontStyle Bold
FontSize 30
}

skinparam package {
FontColor #444444
BackgroundColor AliceBlue
BorderColor #444444
}
skinparam node {
FontColor #444444
BackgroundColor #eeb291
BorderColor #444444
}
skinparam component {
BackgroundColor AliceBlue
BorderColor #444444
FontColor #444444
Style uml2
}

skinparam database {
BackgroundColor AliceBlue
BorderColor #444444
FontColor #444444
}

skinparam cloud {
BackgroundColor AliceBlue
BorderColor #444444
FontColor #444444
}

skinparam collections {
BackgroundColor AliceBlue
BorderColor #444444
FontColor #444444
}
skinparam Control {
BackgroundColor AliceBlue
BorderColor #444444
FontColor #444444
}
skinparam Boundary {
BackgroundColor AliceBlue
BorderColor #444444
FontColor #444444
}
skinparam Entity {
BackgroundColor AliceBlue
BorderColor #444444
FontColor #444444
}
skinparam interface {
BackgroundColor AliceBlue
BorderColor #444444
FontColor #444444
}
skinparam SequenceParticipantBorderThickness 3
skinparam sequence {
ParticipantBackgroundColor AliceBlue
ParticipantBorderColor #444444
ParticipantFontStyle normal
ParticipantFontColor #444444
LifeLineBorderColor #444444
LifeLineBackgroundColor AliceBlue
ArrowColor #444444
ArrowBorderColor #444444
ArrowFontColor #444444
ArrowThickness 3
ActorBackgroundColor AliceBlue
ActorBorderColor #444444
ActorFontColor #444444
}



skinparam sequenceMessageAlign center
autonumber "<b>(0)"


participant Application
participant Stork
participant ConfigProvider
participant Service
participant "Service Discovery"
participant "Load Balancer"

Application -> Stork : initialize()
Stork -> ConfigProvider : getConfig()
ConfigProvider -> Stork : : List<ServiceConfig>

... ...

Application -> Stork : getService("name")
Stork -> Application: Service

...  ...


Application -> Service : selectServiceInstance()
Service -> "Service Discovery" : getServiceInstances()
"Service Discovery" - - -> Service : Uni<List<ServiceInstance>>
Service -> "Load Balancer" : selectServiceInstance()
"Load Balancer" - - -> Service : Uni<ServiceInstance>
Service - - -> Application : Uni<ServiceInstance>
@enduml

PlantUML version 1.2022.7beta11(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>